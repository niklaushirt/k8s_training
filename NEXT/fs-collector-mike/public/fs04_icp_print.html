<h4 id="task-icp01">Task ICP01</h4><p>Use docker to pull the IBM Cloud Private install container <strong>icp-inception:3.1.1</strong> to your local machine.  </p><br><pre><code>Command:<br><br>    docker pull ibmcom/icp-inception:3.1.1</code></pre><br><p>Once the pull of the image is complete use <strong>docker images</strong> to check the size of the container.  The size of what was pulled should be similar to what is shown.</p><br><br><pre><code>Command:<br>    docker images<br><br>Example output:<br><br>REPOSITORY             TAG                 IMAGE ID            CREATED             SIZE<br>ibmcom/icp-inception   3.1.1               a6ce8540d080        2 weeks ago         748MB</code></pre><br><p>Use the docker CLI to exec into the &#39;inception&#39; container and list the directory. </p><br><br><pre><code>Command:<br>    docker run --rm -it --entrypoint=/bin/bash ibmcom/icp-inception:3.1.1<br><br>Example result is a shell prompt:<br><br>bash-4.3#  ls -al<br>total 40<br>drwxr-xr-x    1 root     root          4096 Nov 20 05:02 .<br>drwxr-xr-x    1 root     root          4096 Jan 30 13:08 ..<br>-rw-rw-r--    1 root     root           779 Nov  9 21:19 ansible.cfg<br>drwxr-xr-x    1 root     root          4096 Nov 20 05:02 cfc-files<br>drwxr-xr-x    3 root     root          4096 Nov  9 21:22 cluster<br>-rwxrwxr-x    1 root     root          8230 Nov  9 21:19 installer.sh<br>drwxr-xr-x    1 root     root          4096 Nov 20 05:02 playbook<br>drwxr-xr-x    4 root     root          4096 Nov  9 22:18 plugins<br></code></pre><br><p>The container shell opens to the <strong>/installer</strong> directory.  This directory contains the &#39;installer.sh&#39; script that is used when ICP is installed.</p><br><p>When installing ICP and the following command is executed, the &#39;cluster&#39; directory from the inception container is copied and creates &#39;cluster&#39; directory on the boot node.</p><br><pre><code>sudo docker run -v $(pwd):/data -e LICENSE=accept \<br>ibmcom/icp-inception-amd64:3.1.1-ee \<br>cp -r cluster /data</code></pre><p>Change to the <strong>/addon</strong> directory and list the contents.  The files listed are the Helm chart tgz files for the addon features of ICP.  </p><br><pre><code>Commands:<br><br>bash-4.3#  cd /addon<br><br>bash-4.3#  ls -la<br><br>ls -la<br>total 484<br>drwxr-xr-x    1 root     root          4096 Nov 20 05:02 .<br>drwxr-xr-x    1 root     root          4096 Jan 30 16:03 ..<br>-rw-rw-r--    1 root     root             0 Nov  9 21:19 .gitkeep<br>-rw-r--r--    1 root     root          4323 Nov 20 01:09 audit-logging-3.1.1.tgz<br>-rw-r--r--    1 root     root          2204 Nov 20 01:09 auth-apikeys-3.1.1.tgz<br>-rw-r--r--    1 root     root          7355 Nov 20 01:09 auth-idp-3.1.1.tgz<br>-rw-r--r--    1 root     root          3361 Nov 20 01:09 auth-pap-3.1.1.tgz<br>-rw-r--r--    1 root     root          3436 Nov 20 01:09 auth-pdp-3.1.1.tgz<br>-rw-r--r--    1 root     root          9871 Nov 20 01:09 calico-3.1.1.tgz<br>-rw-r--r--    1 root     root          1736 Nov 20 01:09 heapster-3.1.1.tgz<br>-rw-r--r--    1 root     root          8019 Nov 20 01:09 helm-api-3.1.1.tgz<br>-rw-r--r--    1 root     root          4952 Nov 20 01:09 helm-repo-3.1.1.tgz<br>-rw-r--r--    1 root     root          9947 Nov 20 01:09 ibm-cert-manager-3.1.1.tgz<br>-rw-r--r--    1 root     root          6832 Nov 20 01:09 ibm-custom-metrics-adapter-3.1.1.tgz<br>-rw-r--r--    1 root     root         30974 Nov 20 01:09 ibm-glusterfs-1.2.0.tgz<br>-rw-r--r--    1 root     root         42911 Nov 20 01:09 ibm-icplogging-2.1.0.tgz<br>-rw-r--r--    1 root     root         79419 Nov 20 01:09 ibm-icpmonitoring-1.3.0.tgz<br>-rw-r--r--    1 root     root         55853 Nov 20 01:09 ibm-istio-1.0.4.tgz<br>-rw-r--r--    1 root     root         27617 Nov 20 01:09 ibm-minio-objectstore-1.6.1.tgz<br>-rw-r--r--    1 root     root          8995 Nov 20 01:09 ibmcloud-image-enforcement-3.1.1.tgz<br>-rw-r--r--    1 root     root          1581 Nov 20 01:09 icp-catalog-chart-3.1.1.tgz<br>-rw-r--r--    1 root     root          2813 Nov 20 01:09 icp-management-ingress-3.1.1.tgz<br>-rw-r--r--    1 root     root          5639 Nov 20 01:09 icp-mariadb-galera-3.1.1.tgz<br>-rw-r--r--    1 root     root         16663 Nov 20 01:09 icp-mongodb-3.1.1.tgz<br>-rw-r--r--    1 root     root          5324 Nov 20 01:09 key-management-3.1.1.tgz<br>-rw-r--r--    1 root     root          2691 Nov 20 01:09 key-management-hsm-3.1.1.tgz<br>-rw-r--r--    1 root     root          1996 Nov 20 01:09 kube-dns-3.1.1.tgz<br>-rw-r--r--    1 root     root          3534 Nov 20 01:09 mariadb-3.1.1.tgz<br>-rw-r--r--    1 root     root          5455 Nov 20 01:09 metering-3.1.1.tgz<br>-rw-r--r--    1 root     root          1916 Nov 20 01:09 metrics-server-3.1.1.tgz<br>-rw-r--r--    1 root     root          4975 Nov 20 01:09 mgmt-repo-3.1.1.tgz<br>-rw-r--r--    1 root     root          2593 Nov 20 01:09 nginx-ingress-3.1.1.tgz<br>-rw-r--r--    1 root     root         14613 Nov 20 01:09 nsx-t-container-plugin-3.1.1.tgz<br>-rw-r--r--    1 root     root          1645 Nov 20 01:09 nvidia-device-plugin-3.1.1.tgz<br>-rw-r--r--    1 root     root          4199 Nov 20 01:09 platform-api-3.1.1.tgz<br>-rw-r--r--    1 root     root          3283 Nov 20 01:09 platform-ui-3.1.1.tgz<br>-rw-r--r--    1 root     root          1611 Nov 20 01:09 secret-watcher-3.1.1.tgz<br>-rw-r--r--    1 root     root          4503 Nov 20 01:09 security-onboarding-3.1.1.tgz<br>-rw-r--r--    1 root     root          8308 Nov 20 01:09 service-catalog-3.1.1.tgz<br>-rw-r--r--    1 root     root          1656 Nov 20 01:09 unified-router-3.1.1.tgz<br>-rw-r--r--    1 root     root          3070 Nov 20 01:09 web-terminal-3.1.1.tgz</code></pre><br><blockquote><br><p>Confirm ICP01 complete</p><div><button class="btn btn-success" onclick="markComplete('CS-104 :- MarkComplete ICP01 complete')">Press to mark completed</button></div></blockquote><hr><hr><h4 id="task-icp02">Task ICP02</h4><p>Understanding the IBM Cloud Private components is a must.   Open the following link:</p><p><a href="https://www.ibm.com/support/knowledgecenter/en/SSBS6K_3.1.1/getting_started/components.html" target="_blank">Catalog of ICP verison 3.1.1 components</a></p><p>What node or nodes does the OpenID Connect (OIDC) component execute?</p><blockquote><p>Confirm ICP02 complete</p><div><button class="btn btn-success" onclick="markComplete('CS-104 :- MarkComplete ICP02 complete')">Press to mark completed</button></div></blockquote><hr><hr><h4 id="task-icp03">Task ICP03</h4><p>Get the name for the pod that starts with <strong>auth-idp-</strong>.  Using kubectl describe examine the ICP security pod that starts with <strong>auth-idp</strong>.  There are four containers defined in this pod.  </p><p>Notice there is a container named <strong>icp-audit-service</strong>.  Now list the contents of the README.md file in the icp-audit-service container.</p><br><pre><code>Commands to list pods:<br>    kubectl get pods -n kube-system | grep auth<br><br>Example output:<br><br>kubectl get pods -n kube-system | grep auth<br>auth-apikeys-xsgd7                                             1/1       Running     0          1d<br>auth-idp-g7bms                                                 4/4       Running     0          1d<br>auth-pap-knwx2                                                 2/2       Running     0          1d<br>auth-pdp-9vqhw                                                 2/2       Running     0          1d<br><br>Command to describe:<br>    kubectl describe pod auth-idp-g7bms -n kube-system<br><br>Container names obtained from the describe output:<br>    icp-audit-service  <br>    platform-auth-service<br>    platform-identity-provider<br>    platform-identity-manager<br><br><br>Command to list the README.md file:<br><br>kubectl exec -it auth-idp-&lt;????&gt; -c icp-audit-service -n kube-system -- cat README.md<br><br>Example output:<br><br># audit-sidecar-service<br>Sidecar to be used by ICP micro services for enabling auditing for their respective containers</code></pre><p>The container image <strong>icp-audit-service</strong> is used to enable auditing.</p><blockquote><p>Confirm ICP03 complete</p><div><button class="btn btn-success" onclick="markComplete('CS-104 :- MarkComplete ICP03 complete')">Press to mark completed</button></div></blockquote><hr><hr><h4 id="task-icp04">Task ICP04</h4><p>What container images are being deployed in the pods that start with <strong>auth</strong>?</p><br><pre><code>Commands to list pods:<br>    kubectl get pods -n kube-system | grep auth<br><br>Example output:<br><br>auth-apikeys-xsgd7            1/1       Running     0          1d<br>auth-idp-g7bms                4/4       Running     0          1d<br>auth-pap-knwx2                2/2       Running     0          1d<br>auth-pdp-9vqhw                2/2       Running     0          1d</code></pre><p>Pod auth-apikeys-xxxxx</p><br><pre><code>Command to describe the pod:    <br>    kubectl describe pod auth-apikeys-&lt;?????&gt; -n kube-system<br><br>Information from the describe output:<br><br>    auth-apikeys               : ibmcom/iam-token-service:3.1.1</code></pre><p>Pod auth-idp-xxxxx</p><br><pre><code>Command to describe the pod:    <br>    kubectl describe pod auth-idp-&lt;?????&gt; -n kube-system<br><br>Information from the describe output:<br><br>    icp-audit-service          : ibmcom/icp-audit-service:3.1.1<br>    platform-auth-service      : ibmcom/icp-platform-auth:3.1.1<br>    platform-identity-provider : ibmcom/icp-identity-provider:3.1.1<br>    platform-identity-manager  : ibmcom/icp-identity-manager:3.1.1</code></pre><p>Pod pod auth-pap-xxxxx</p><br><pre><code>Command to describe the pod:    <br>    kubectl describe pod auth-pap-&lt;?????&gt; -n kube-system<br><br>Information from the describe output:<br><br>    icp-audit-service          : ibmcom/icp-audit-service:3.1.1<br>    auth-pap                   : ibmcom/iam-policy-administration:3.1.1</code></pre><p>Pod auth-pdp-xxxxx</p><br><pre><code>Command to describe the pod:    <br>    kubectl describe pod auth-apikeys-&lt;?????&gt; -n kube-system<br><br>Information from the describe output:<br><br>    icp-audit-service          : ibmcom/icp-audit-service:3.1.1<br>    auth-pdp.                  : ibmcom/iam-policy-decision:3.1.1</code></pre><p>Notice the pods that have deploy the icp-audit-service container image.</p><blockquote><p>Confirm ICP04 complete</p><div><button class="btn btn-success" onclick="markComplete('CS-104 :- MarkComplete ICP04 complete')">Press to mark completed</button></div></blockquote><hr><hr>